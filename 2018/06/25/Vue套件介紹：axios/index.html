
<!DOCTYPE html>
<html lang="zh-tw">
    
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="Eugene Su">
    <title>Vue套件介紹：axios - Eugene Su</title>
    <meta name="author" content="Eugene Su">
    
    
    
        <link rel="alternate" type="application/atom+xml" title="RSS" href="/Blog/atom.xml">
    
    <meta name="description" content="前提情要 筆者在公司的專案開發上選擇vue作為前端開發framework，不外呼就是開發應用程式，當然免不了基本的CRUD功能，此時需要一個強而有力的呼叫API套件，之所以選擇axios，沒有爾外的原因，因為是vue作者推薦使用，這樣不需有任何的疑慮，用下去就對了，此篇就以axios來探討其用法介紹及經驗分享。">
<meta name="keywords" content="vue,axios">
<meta property="og:type" content="blog">
<meta property="og:title" content="Vue套件介紹：axios">
<meta property="og:url" content="http://eugenesu0515.github.io/2018/06/25/Vue套件介紹：axios/index.html">
<meta property="og:site_name" content="Eugene Su">
<meta property="og:description" content="前提情要 筆者在公司的專案開發上選擇vue作為前端開發framework，不外呼就是開發應用程式，當然免不了基本的CRUD功能，此時需要一個強而有力的呼叫API套件，之所以選擇axios，沒有爾外的原因，因為是vue作者推薦使用，這樣不需有任何的疑慮，用下去就對了，此篇就以axios來探討其用法介紹及經驗分享。">
<meta property="og:locale" content="zh-tw">
<meta property="og:image" content="http://eugenesu0515.github.io/Blog/2018/06/25/Vue套件介紹：axios/Axios_Demo.gif">
<meta property="og:image" content="http://eugenesu0515.github.io/Blog/2018/06/25/Vue套件介紹：axios/Axios_Interceptor_Demo.gif">
<meta property="og:updated_time" content="2018-07-14T17:15:30.268Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Vue套件介紹：axios">
<meta name="twitter:description" content="前提情要 筆者在公司的專案開發上選擇vue作為前端開發framework，不外呼就是開發應用程式，當然免不了基本的CRUD功能，此時需要一個強而有力的呼叫API套件，之所以選擇axios，沒有爾外的原因，因為是vue作者推薦使用，這樣不需有任何的疑慮，用下去就對了，此篇就以axios來探討其用法介紹及經驗分享。">
<meta name="twitter:image" content="http://eugenesu0515.github.io/Blog/2018/06/25/Vue套件介紹：axios/Axios_Demo.gif">
<meta name="twitter:creator" content="@Eugene_Su">
    
        <link rel="publisher" href="https://plus.google.com/beckhamnaing72"/>
    
    
        
    
    
        <meta property="og:image" content="http://www.gravatar.com/avatar/e6ca445a85d16acdce3d64b521812cb8?s=140"/>
    
    
    
    
    <!--STYLES-->
    <link rel="stylesheet" href="/Blog/assets/css/style-sxklfps8ywgfyyjcowvnb4gxdgt0zjts3hsguljmv9uqanxjbnitrovtbrek.min.css">
    <!--STYLES END-->
    
    
</head>

    <body>
        <div id="blog">
            <!-- Define author's picture -->


    
        
            
        
    

<header id="header" data-behavior="5">
    <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
    <div class="header-title">
        <a class="header-title-link" href="/Blog/ ">Eugene Su</a>
    </div>
    
        
            <a  class="header-right-picture "
                href="#about">
        
        
            <img class="header-picture" src="http://www.gravatar.com/avatar/e6ca445a85d16acdce3d64b521812cb8?s=140" alt="作者的圖片"/>
        
        </a>
    
</header>

            <!-- Define author's picture -->



        
    

<nav id="sidebar" data-behavior="5">
    <div class="sidebar-container">
        
            <div class="sidebar-profile">
                <a href="/Blog/#about">
                    <img class="sidebar-profile-picture" src="http://www.gravatar.com/avatar/e6ca445a85d16acdce3d64b521812cb8?s=140" alt="作者的圖片"/>
                </a>
                <h4 class="sidebar-profile-name">Eugene Su</h4>
                
                    <h5 class="sidebar-profile-bio"><p>這裡記載技術與生活點滴</p>
</h5>
                
            </div>
        
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link "
                             href="/Blog/ "
                            
                        >
                    
                        <i class="sidebar-button-icon fa fa-lg fa-home"></i>
                        <span class="sidebar-button-desc">首頁</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link "
                             href="/Blog/all-categories"
                            
                        >
                    
                        <i class="sidebar-button-icon fa fa-lg fa-bookmark"></i>
                        <span class="sidebar-button-desc">分類</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link "
                             href="/Blog/all-tags"
                            
                        >
                    
                        <i class="sidebar-button-icon fa fa-lg fa-tags"></i>
                        <span class="sidebar-button-desc">標籤</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link "
                             href="/Blog/all-archives"
                            
                        >
                    
                        <i class="sidebar-button-icon fa fa-lg fa-archive"></i>
                        <span class="sidebar-button-desc">所有文章</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link open-algolia-search"
                             href="#search"
                            
                        >
                    
                        <i class="sidebar-button-icon fa fa-lg fa-search"></i>
                        <span class="sidebar-button-desc">搜尋</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link "
                             href="#about"
                            
                        >
                    
                        <i class="sidebar-button-icon fa fa-lg fa-question"></i>
                        <span class="sidebar-button-desc">關於</span>
                    </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link " href="https://github.com/EugeneSu0515/" target="_blank" rel="noopener">
                    
                        <i class="sidebar-button-icon fa fa-lg fa-github"></i>
                        <span class="sidebar-button-desc">GitHub</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link " href="https://twitter.com/Eugene_Su" target="_blank" rel="noopener">
                    
                        <i class="sidebar-button-icon fa fa-lg fa-twitter"></i>
                        <span class="sidebar-button-desc">Twitter</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link " href="https://facebook.com/eugene.su1" target="_blank" rel="noopener">
                    
                        <i class="sidebar-button-icon fa fa-lg fa-facebook"></i>
                        <span class="sidebar-button-desc">Facebook</span>
                    </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link "
                             href="/Blog/atom.xml"
                            
                        >
                    
                        <i class="sidebar-button-icon fa fa-lg fa-rss"></i>
                        <span class="sidebar-button-desc">RSS</span>
                    </a>
            </li>
            
        </ul>
        
    </div>
</nav>

            
            <div id="main" data-behavior="5"
                 class="
                        hasCoverMetaIn
                        ">
                
<article class="post" itemscope itemType="http://schema.org/BlogPosting">
    
    
        <div class="post-header main-content-wrap text-left">
    
        <h1 class="post-title" itemprop="headline">
            Vue套件介紹：axios
        </h1>
    
    
        <div class="post-meta">
    <time itemprop="datePublished" datetime="2018-06-25T17:58:30+08:00">
	
		    6月 25, 2018
    	
    </time>
    
        <span>分類 </span>
        
    <a class="category-link" href="/Blog/categories/vue/">vue</a>


    
</div>

    
</div>
    
    <div class="post-content markdown" itemprop="articleBody">
        <div class="main-content-wrap">
            <h2 id="前提情要"><a href="#前提情要" class="headerlink" title="前提情要"></a>前提情要</h2><hr>
<p>筆者在公司的專案開發上選擇vue作為前端開發framework，不外呼就是開發應用程式，當然免不了基本的CRUD功能，此時需要一個強而有力的呼叫API套件，之所以選擇<code>axios</code>，沒有爾外的原因，因為是vue作者推薦使用，這樣不需有任何的疑慮，用下去就對了，此篇就以<code>axios</code>來探討其用法介紹及經驗分享。<br><a id="more"></a></p>
<h2 id="內容"><a href="#內容" class="headerlink" title="內容"></a>內容</h2><hr>
<h1 id="table-of-contents">目錄</h1><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#前提情要"><span class="toc-text">前提情要</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#內容"><span class="toc-text">內容</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#使用方式"><span class="toc-text">使用方式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#建立axios實體"><span class="toc-text">建立axios實體</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#alias別名-簡寫"><span class="toc-text">alias別名(簡寫)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Config項目介紹"><span class="toc-text">Config項目介紹</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#全域設定"><span class="toc-text">全域設定</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#設定方式"><span class="toc-text">設定方式</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#設定優先順序探討"><span class="toc-text">設定優先順序探討</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Interceptor攔截器"><span class="toc-text">Interceptor攔截器</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#使用方式-1"><span class="toc-text">使用方式</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#移除攔截器"><span class="toc-text">移除攔截器</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#多個請求Concurrency化"><span class="toc-text">多個請求Concurrency化</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#實例"><span class="toc-text">實例</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#安裝及設置前置作業"><span class="toc-text">安裝及設置前置作業</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#撰寫程式"><span class="toc-text">撰寫程式</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#建立Component-AxiosDemo-vue"><span class="toc-text">建立Component:AxiosDemo.vue</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#設定Route"><span class="toc-text">設定Route</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#套用axios攔截器及loading效果"><span class="toc-text">套用axios攔截器及loading效果</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#結論"><span class="toc-text">結論</span></a></li></ol>
<h3 id="使用方式"><a href="#使用方式" class="headerlink" title="使用方式"></a>使用方式</h3><p>我們要在專案上使用第一部就是使用<code>npm</code>來安裝它<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm install axios</div></pre></td></tr></table></figure></p>
<p>若要在component上套用axios則，需先import它<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">'axios'</span>;</div></pre></td></tr></table></figure></p>
<p>接下來我們先來看一下簡單的get指令<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// Make a request for a user with a given ID</span></div><div class="line">axios.get(<span class="string">'/user?ID=12345'</span>)</div><div class="line">  .then(<span class="function"><span class="keyword">function</span> (<span class="params">response</span>) </span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(response);</div><div class="line">  &#125;)</div><div class="line">  .catch(<span class="function"><span class="keyword">function</span> (<span class="params">error</span>) </span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(error);</div><div class="line">  &#125;);</div></pre></td></tr></table></figure></p>
<h3 id="建立axios實體"><a href="#建立axios實體" class="headerlink" title="建立axios實體"></a>建立axios實體</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> instance = axios.create(&#123;</div><div class="line">  baseURL: <span class="string">'https://some-domain.com/api/'</span>,</div><div class="line">  timeout: <span class="number">1000</span>,</div><div class="line">  headers: &#123;<span class="string">'X-Custom-Header'</span>: <span class="string">'foobar'</span>&#125;</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<p>視情況會使用到自己宣告出來的axios實體，筆者遇到的情形是</p>
<ol>
<li>呼叫不同的API站台時</li>
<li>需要有獨立的config設定時</li>
</ol>
<h3 id="alias別名-簡寫"><a href="#alias別名-簡寫" class="headerlink" title="alias別名(簡寫)"></a>alias別名(簡寫)</h3><p>以上使用到<code>axios</code>所提供的簡寫功能<code>get</code>，axios提供我們會常用到<code>http action</code>的簡寫宣告</p>
<ul>
<li>axios.request(config)</li>
<li>axios.get(url[, config])</li>
<li>axios.delete(url[, config])</li>
<li>axios.head(url[, config])</li>
<li>axios.options(url[, config])</li>
<li>axios.post(url[, data[, config]])</li>
<li>axios.put(url[, data[, config]])</li>
<li>axios.patch(url[, data[, config]])</li>
</ul>
<h3 id="Config項目介紹"><a href="#Config項目介紹" class="headerlink" title="Config項目介紹"></a>Config項目介紹</h3><p>接下來介紹有哪些config可以設定，先來看一下一般的宣告方式<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// Send a POST request</span></div><div class="line">axios(&#123;</div><div class="line">  method: <span class="string">'post'</span>,</div><div class="line">  url: <span class="string">'/user/12345'</span>,</div><div class="line">  data: &#123;</div><div class="line">    firstName: <span class="string">'Fred'</span>,</div><div class="line">    lastName: <span class="string">'Flintstone'</span></div><div class="line">  &#125;</div><div class="line">&#125;);</div></pre></td></tr></table></figure></p>
<p>完整的config項目列表，其中<code>url</code>為必填之外，其他為選填項目，筆者盡量以自己的理解的方式寫上註解<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div></pre></td><td class="code"><pre><div class="line">&#123;</div><div class="line">    <span class="comment">// 欲呼叫的目標API的URL</span></div><div class="line">    url: <span class="string">'/user'</span>,</div><div class="line"></div><div class="line">    <span class="comment">// http action(對應到api定義的http action)</span></div><div class="line">    <span class="comment">// 若沒宣告此屬性則，預設為get</span></div><div class="line">    method: <span class="string">'get'</span>, <span class="comment">// default</span></div><div class="line"></div><div class="line">    <span class="comment">// 欲呼叫的目標API的BaseUrl</span></div><div class="line">    <span class="comment">// 假設API網址有</span></div><div class="line">    <span class="comment">// http://localhost:5000/api/user</span></div><div class="line">    <span class="comment">// http://localhost:5000/api/user/5</span></div><div class="line">    <span class="comment">// 對我們來說以上兩個API的BaseUrl為http://localhost:5000/api</span></div><div class="line">    baseURL: <span class="string">'https://some-domain.com/api/'</span>,</div><div class="line"></div><div class="line">    <span class="comment">// 傳送server端之前，可以透過此function撰寫統一處理邏輯</span></div><div class="line">    <span class="comment">// 只支援於http action如put、post、patch</span></div><div class="line">    <span class="comment">// 最後必須回傳處理過後的request封包，形式可為string/buffer/fomdata/stream等</span></div><div class="line">    transformRequest: [<span class="function"><span class="keyword">function</span> (<span class="params">data, headers</span>) </span>&#123;</div><div class="line">        <span class="comment">// Do whatever you want to transform the data</span></div><div class="line"></div><div class="line">        <span class="keyword">return</span> data;</div><div class="line">    &#125;],</div><div class="line"></div><div class="line">    <span class="comment">// 如同transformRequest，這個是針對response做處理</span></div><div class="line">    transformResponse: [<span class="function"><span class="keyword">function</span> (<span class="params">data</span>) </span>&#123;</div><div class="line">        <span class="comment">// Do whatever you want to transform the data</span></div><div class="line"></div><div class="line">        <span class="keyword">return</span> data;</div><div class="line">    &#125;],</div><div class="line"></div><div class="line">    <span class="comment">// 可自定義header參數</span></div><div class="line">    headers: &#123;</div><div class="line">        <span class="string">'X-Requested-With'</span>: <span class="string">'XMLHttpRequest'</span></div><div class="line">    &#125;,</div><div class="line"></div><div class="line">    <span class="comment">// querystring參數</span></div><div class="line">    params: &#123;</div><div class="line">        ID: <span class="number">12345</span></div><div class="line">    &#125;,</div><div class="line"></div><div class="line">    <span class="comment">// 可自定義parameter serialize的function</span></div><div class="line">    paramsSerializer: <span class="function"><span class="keyword">function</span> (<span class="params">params</span>) </span>&#123;</div><div class="line">        <span class="keyword">return</span> Qs.stringify(params, &#123;</div><div class="line">            arrayFormat: <span class="string">'brackets'</span></div><div class="line">        &#125;)</div><div class="line">    &#125;,</div><div class="line"></div><div class="line">    <span class="comment">// put/post/patch使用，request物件</span></div><div class="line">    data: &#123;</div><div class="line">        firstName: <span class="string">'Fred'</span></div><div class="line">    &#125;,</div><div class="line"></div><div class="line">    <span class="comment">// 自定義request timeout時間，單位為豪秒ms</span></div><div class="line">    timeout: <span class="number">1000</span></div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>以上僅列出部份config項目，完整請參考<a href="https://github.com/axios/axios" target="_blank" rel="external">axios github中的說明</a></p>
<h3 id="全域設定"><a href="#全域設定" class="headerlink" title="全域設定"></a>全域設定</h3><h4 id="設定方式"><a href="#設定方式" class="headerlink" title="設定方式"></a>設定方式</h4><p><code>axios</code>很貼心的提供了全域設定的功能，等於說有些設定是共用的，可以透過<code>defaults</code>來設定，通常一定會設置一個<code>baseURL</code>，頁面上的呼叫api設定的url就只要設定相對url即可。<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">axios.defaults.baseURL = <span class="string">'https://api.example.com'</span>;</div><div class="line">axios.defaults.headers.common[<span class="string">'Authorization'</span>] = AUTH_TOKEN;</div><div class="line">axios.defaults.headers.post[<span class="string">'Content-Type'</span>] = <span class="string">'application/x-www-form-urlencoded'</span>;</div></pre></td></tr></table></figure></p>
<p>以上只是很簡單的舉了三個例子，第一個是設定baseURL，第二個是將登入成功後取得的token，設定於每次request中的header參數中，第三個是指定post時的content type為html encode過後的，以防腳本攻擊。這些只是簡單的例子，基本上<code>defaults</code>後面可以接上述提到的所有config項目。</p>
<h4 id="設定優先順序探討"><a href="#設定優先順序探討" class="headerlink" title="設定優先順序探討"></a>設定優先順序探討</h4><p>參考<code>axios</code>github中的<code>Config order of precedence</code></p>
<ol>
<li>request當中<code>config</code></li>
<li><code>defaults</code>關鍵字設定之全域設定</li>
<li><code>lib/defaults.js</code></li>
</ol>
<h3 id="Interceptor攔截器"><a href="#Interceptor攔截器" class="headerlink" title="Interceptor攔截器"></a>Interceptor攔截器</h3><h4 id="使用方式-1"><a href="#使用方式-1" class="headerlink" title="使用方式"></a>使用方式</h4><p>筆者特別想介紹這個部份，此功能非常重要，我們要做什麼事情，有了這個攔截器，根本就是事半功倍阿。簡單來說就是<code>axios</code>開放request前或response得到後事件，方便我們撰寫統一處理邏輯。</p>
<p>最簡單的應用就是我們在request的時候，無論是取得下拉式選單的data source，設定條件後按下「查詢」取得相對應的資料，都需要等待時間，現代都是求速成，連一秒都不願意等待，需要馬上有feedback，通常我們都會選擇使用<code>顯示loading</code>讓使用者知道我們很努力的在獲取資料。</p>
<p>這個時候這個攔截器的好處就浮現了，一般沒有攔截器的情況下，我們必須得在每一個request中必須處理<code>顯示loading</code>的邏輯，但這樣一來，重複的程式碼出現在不同地方，需要更改效果時根本就是惡夢阿。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// Add a request interceptor</span></div><div class="line">axios.interceptors.request.use(<span class="function"><span class="keyword">function</span> (<span class="params">config</span>) </span>&#123;</div><div class="line">    <span class="comment">// Do something before request is sent</span></div><div class="line">    <span class="keyword">return</span> config;</div><div class="line">  &#125;, <span class="function"><span class="keyword">function</span> (<span class="params">error</span>) </span>&#123;</div><div class="line">    <span class="comment">// Do something with request error</span></div><div class="line">    <span class="keyword">return</span> <span class="built_in">Promise</span>.reject(error);</div><div class="line">  &#125;);</div><div class="line"></div><div class="line"><span class="comment">// Add a response interceptor</span></div><div class="line">axios.interceptors.response.use(<span class="function"><span class="keyword">function</span> (<span class="params">response</span>) </span>&#123;</div><div class="line">    <span class="comment">// Do something with response data</span></div><div class="line">    <span class="keyword">return</span> response;</div><div class="line">  &#125;, <span class="function"><span class="keyword">function</span> (<span class="params">error</span>) </span>&#123;</div><div class="line">    <span class="comment">// Do something with response error</span></div><div class="line">    <span class="keyword">return</span> <span class="built_in">Promise</span>.reject(error);</div><div class="line">  &#125;);</div></pre></td></tr></table></figure>
<h4 id="移除攔截器"><a href="#移除攔截器" class="headerlink" title="移除攔截器"></a>移除攔截器</h4><p>我們可以使用<code>interceptor攔截器</code>，當然也可以移除它<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//使用const變數宣告request interceptor</span></div><div class="line"><span class="keyword">const</span> myInterceptor = axios.interceptors.request.use(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;<span class="comment">/*...*/</span>&#125;);</div><div class="line"><span class="comment">//將上述interceptor使用eject的方式移除</span></div><div class="line">axios.interceptors.request.eject(myInterceptor);</div></pre></td></tr></table></figure></p>
<p>筆者當初看到這個說明會覺得不會使用到它，直到有些頁面中有<code>autocomplete</code>功能時，就會用上它了。我們專案的情境是我們會在<code>main.js</code>中宣告全域的interceptor，每次發出呼叫API的request前先將<code>loading...</code>畫面顯示，得到response後將其關閉。但問題來了，我們的<code>autocomplete</code>功能，也是會產生呼叫API的情形，會變成每打一個字會產生<code>loading...</code>效果，這是我們不希望的。</p>
<p>筆者在上述的問題解決方式採用上面提到的宣告一個新的<code>axios實體</code>方式，並且將該實體的interceptor設定中使用<code>eject</code>方式移除特定interceptor，當然在呼叫API時使用該<code>axios實體</code><br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 宣告於main.js中</span></div><div class="line"><span class="keyword">const</span> myInterceptor = axios.interceptors.request.use(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;<span class="comment">/*...*/</span>&#125;);</div><div class="line">Vue.prototype.$myInterceptor = myInterceptor;</div><div class="line"></div><div class="line"><span class="comment">// 以下為個別的Vue檔案中script區塊</span></div><div class="line"><span class="comment">// import axios</span></div><div class="line"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">'axios'</span>;</div><div class="line"><span class="comment">// 宣告axios實體變數於data區塊中</span></div><div class="line">data()&#123;</div><div class="line">    <span class="keyword">return</span>&#123;</div><div class="line">      myAxios: <span class="literal">null</span>  </div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"><span class="comment">// 宣告axios實體初始化於created事件中</span></div><div class="line">created: <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    myAxios = axios.create(&#123;</div><div class="line">        baseURL: <span class="string">'https://some-domain.com/api/'</span>,</div><div class="line">        timeout: <span class="number">1000</span>,</div><div class="line">        headers: &#123;<span class="string">'X-Custom-Header'</span>: <span class="string">'foobar'</span>&#125;</div><div class="line">    &#125;);</div><div class="line">    myAxios.interceptors.request.eject(<span class="keyword">this</span>.$myInterceptor);</div><div class="line">&#125;</div><div class="line"><span class="comment">// 該頁面中呼叫api時使用myAxios這個實體</span></div></pre></td></tr></table></figure></p>
<h3 id="多個請求Concurrency化"><a href="#多個請求Concurrency化" class="headerlink" title="多個請求Concurrency化"></a>多個請求Concurrency化</h3><p><code>axios</code>有提供多個request平行處理的功能<code>all</code>，然後可以使用<code>spread</code>將多個response當作參數接進來<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">axios.all([</div><div class="line">    axios.get(<span class="string">'/users'</span>),</div><div class="line">    axios.get(<span class="string">'/posts'</span>, <span class="attr">params</span>:&#123;</div><div class="line">        userId: userId</div><div class="line">    &#125;)</div><div class="line">])</div><div class="line">.then(</div><div class="line">    axios.spread(<span class="function">(<span class="params">userResponse, postResponse</span>)=&gt;</span> &#123;</div><div class="line">        <span class="built_in">console</span>.log(userResponse);</div><div class="line">        <span class="built_in">console</span>.log(postResponse);</div><div class="line">    &#125;)</div><div class="line">)</div></pre></td></tr></table></figure></p>
<h3 id="實例"><a href="#實例" class="headerlink" title="實例"></a>實例</h3><p>我們來做一下實例吧，找一個公開的api <a href="https://jsonplaceholder.typicode.com/" target="_blank" rel="external">jsonplaceholder</a> 串接，並使用<code>interceptor</code>做進一步的處理。</p>
<h4 id="安裝及設置前置作業"><a href="#安裝及設置前置作業" class="headerlink" title="安裝及設置前置作業"></a>安裝及設置前置作業</h4><p>前置作業很多，但我會以這個專案為模版，其他文章的範例會使用這個專案繼續完成其他套件示範。</p>
<ol>
<li><p>使用<code>vue-cli</code>initial webpack模版專案</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">vue init webpack DemoApp</div></pre></td></tr></table></figure>
</li>
<li><p>安裝<code>bootstrap-vue</code><br>接著使用<code>visual studio code</code>開啟專案，為了版面漂亮，我們來安裝一下<code>bootstrap</code>吧，為了使用現成的bootstrap component，我們就直接安裝<code>bootstrap-vue</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm install bootstrap-vue --save</div></pre></td></tr></table></figure>
<p> 接著我們在<code>main.js</code>中<code>bootstrap-vue</code>的import及使用宣告</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// import及使用</span></div><div class="line"><span class="keyword">import</span> BootstrapVue <span class="keyword">from</span> <span class="string">'bootstrap-vue'</span></div><div class="line">Vue.use(BootstrapVue);</div><div class="line"><span class="comment">// 載入相關css</span></div><div class="line"><span class="keyword">import</span> <span class="string">'bootstrap/dist/css/bootstrap.css'</span></div><div class="line"><span class="keyword">import</span> <span class="string">'bootstrap-vue/dist/bootstrap-vue.css'</span></div></pre></td></tr></table></figure>
</li>
<li><p>安裝<code>jquery</code>及<code>popper.js</code><br>因為我們專案使用<code>bootstrap 4</code>版本，需要安裝<code>jquery</code>及<code>popper.js</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">npm install jquery --save</div><div class="line">npm install popper.js --save</div></pre></td></tr></table></figure>
</li>
<li><p>安裝<code>font-awesome</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm install font-awesome</div></pre></td></tr></table></figure>
<p> 接著我們在<code>main.js</code>中載入相關css</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> <span class="string">'font-awesome/css/font-awesome.css'</span></div></pre></td></tr></table></figure>
</li>
<li><p>安裝我們的主角<code>axios</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm install axios</div></pre></td></tr></table></figure>
<p> 以上面所介紹的，我們在<code>main.js</code>中加入<code>defaults</code>設定值，先加入<code>baseURL</code>吧</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">'axios'</span></div><div class="line"></div><div class="line">axios.defaults.baseURL = <span class="string">'https://jsonplaceholder.typicode.com'</span></div></pre></td></tr></table></figure>
</li>
</ol>
<h4 id="撰寫程式"><a href="#撰寫程式" class="headerlink" title="撰寫程式"></a>撰寫程式</h4><p>這個範例會使用<a href="https://jsonplaceholder.typicode.com/posts" target="_blank" rel="external">https://jsonplaceholder.typicode.com/posts</a>做示範，先看一下回傳的object結構<br><figure class="highlight json"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">&#123;</div><div class="line">    <span class="attr">"userId"</span>: <span class="number">1</span>,</div><div class="line">    <span class="attr">"id"</span>: <span class="number">1</span>,</div><div class="line">    <span class="attr">"title"</span>: <span class="string">"sunt aut facere repellat provident occaecati excepturi optio reprehenderit"</span>,</div><div class="line">    <span class="attr">"body"</span>: <span class="string">"quia et suscipit\nsuscipit recusandae consequuntur expedita et cum\nreprehenderit molestiae ut ut quas totam\nnostrum rerum est autem sunt rem eveniet architecto"</span></div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>我們這篇的範例就示範印出<code>title</code>及<code>body</code>欄位。筆者就增加一點困難，我們就先列出<code>title</code>欄位列表，然後點下<code>title</code>後相對應的<code>body</code>內容才會以<code>collapse</code>效果彈出顯示，使用<code>font-awesome</code>在顯示隱藏效果下，切換顯示 <i class="fa fa-plus-square-o"></i> 及 <i class="fa fa-minus-square-o"></i> 符號。<code>body</code>欄位隱藏的狀態下會顯示 <i class="fa fa-plus-square-o"></i> 表示可以點開內容，若已顯示狀態下則切換顯示為 <i class="fa fa-minus-square-o"></i>，表示已打開內容。需求講完了，我們就來實際動手做吧。</p>
<h5 id="建立Component-AxiosDemo-vue"><a href="#建立Component-AxiosDemo-vue" class="headerlink" title="建立Component:AxiosDemo.vue"></a>建立Component:AxiosDemo.vue</h5><p>在<code>Explorer</code>視窗中，直接在components上按右鍵加入<code>AxiosDemo.vue</code>，我們先來宣告一下data部份，到時呼叫api後得到的response data使用這個data變數去接<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">data() &#123;</div><div class="line">    <span class="keyword">return</span> &#123;</div><div class="line">        postInfos: []</div><div class="line">    &#125;;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>接下來我們就直接在<code>created</code>事件中呼叫API，取得資料，因我們已經於<code>main.js</code>中設置<code>baseURL</code>，geturl只要設置相對路徑即可<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">created: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    axios.get(<span class="string">"/posts"</span>).then(<span class="function"><span class="params">response</span> =&gt;</span> &#123;</div><div class="line">      <span class="keyword">let</span> tempInfos = response.data;</div><div class="line">      tempInfos.forEach(<span class="function"><span class="params">item</span> =&gt;</span> &#123;</div><div class="line">        item.show = <span class="literal">false</span>;</div><div class="line">        <span class="keyword">this</span>.postInfos.push(item);</div><div class="line">      &#125;);</div><div class="line">    &#125;);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>以上程式碼稍微要講解一下，我們先用<code>tempInfos</code>接response data，之後再使用<code>foreach</code>倒出資料時，順邊指定<code>show</code>屬性，預設設為<code>false</code>，其控制<code>body</code>欄位資料顯示隱藏邏輯，設定好的資料push至我們的data變數<code>postInfos</code>。</p>
<p>都設置完邏輯面的部份，我們來處理一下ui面吧，這裡會使用到<code>bootstrap</code>中的<code>card</code>結構，<code>title</code>欄位資料放於<code>card-header</code>中，<code>body</code>資料放於<code>card-body</code>中(預設隱藏)。<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"card"</span></span></div><div class="line"><span class="tag">    <span class="attr">v-for</span>=<span class="string">"post in postInfos"</span></span></div><div class="line"><span class="tag">    <span class="attr">:key</span>=<span class="string">"post.id"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"card-header"</span></span></div><div class="line"><span class="tag">        @<span class="attr">click</span>=<span class="string">"post.show = !post.show"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"fa fa-plus-square-o"</span> <span class="attr">v-show</span>=<span class="string">"!post.show"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"fa fa-minus-square-o"</span> <span class="attr">v-show</span>=<span class="string">"post.show"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span> &#123;&#123;post.title&#125;&#125;</div><div class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"card-body"</span></span></div><div class="line"><span class="tag">        <span class="attr">v-show</span>=<span class="string">"post.show"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">"card-text"</span>&gt;</span></div><div class="line">        &#123;&#123;post.body&#125;&#125;</div><div class="line">    <span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p>上述程式碼使用到vue相關技巧如下</p>
<ul>
<li><code>vue directive</code>有<code>v-for</code>、<code>v-show</code></li>
<li>事件監聽<code>v-on</code>如<code>@click</code></li>
<li><code>javascript表達式</code>寫於<code>@click</code>，將show改為目前show值相反值<ul>
<li>例:true改為false、false則反之。</li>
</ul>
</li>
<li>一定要會的<code>Mustache語法</code>使用，將<code>title</code>、<code>body</code>欄位值印出</li>
</ul>
<p>完整的<code>AxiosDemo.vue</code>程式碼如下<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div></pre></td><td class="code"><pre><div class="line">&lt;template&gt;</div><div class="line">  &lt;div id=<span class="string">"axiosdemo"</span>&gt;</div><div class="line">    &lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"card"</span></div><div class="line">         v-<span class="keyword">for</span>=<span class="string">"post in postInfos"</span></div><div class="line">         :key=<span class="string">"post.id"</span>&gt;</div><div class="line">      &lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"card-header"</span></div><div class="line">           @click=<span class="string">"post.show = !post.show"</span>&gt;</div><div class="line">        &lt;i <span class="class"><span class="keyword">class</span></span>=<span class="string">"fa fa-plus-square-o"</span> v-show=<span class="string">"!post.show"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span></div><div class="line">        &lt;i <span class="class"><span class="keyword">class</span></span>=<span class="string">"fa fa-minus-square-o"</span> v-show=<span class="string">"post.show"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span> &#123;&#123;post.title&#125;&#125;</div><div class="line">      &lt;<span class="regexp">/div&gt;</span></div><div class="line"><span class="regexp">      &lt;div class="card-body"</span></div><div class="line"><span class="regexp">           v-show="post.show"&gt;</span></div><div class="line"><span class="regexp">        &lt;p class="card-text"&gt;</span></div><div class="line"><span class="regexp">          &#123;&#123;post.body&#125;&#125;</span></div><div class="line"><span class="regexp">        &lt;/</span>p&gt;</div><div class="line">      &lt;<span class="regexp">/div&gt;</span></div><div class="line"><span class="regexp">    &lt;/</span>div&gt;</div><div class="line">  &lt;<span class="regexp">/div&gt;</span></div><div class="line"><span class="regexp">&lt;/</span>template&gt;</div><div class="line">&lt;script&gt;</div><div class="line"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">"axios"</span>;</div><div class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</div><div class="line">  name: <span class="string">"AxiosDemo"</span>,</div><div class="line">  data() &#123;</div><div class="line">    <span class="keyword">return</span> &#123;</div><div class="line">      postInfos: []</div><div class="line">    &#125;;</div><div class="line">  &#125;,</div><div class="line">  created: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    axios.get(<span class="string">"/posts"</span>).then(<span class="function"><span class="params">response</span> =&gt;</span> &#123;</div><div class="line">      <span class="keyword">let</span> tempInfos = response.data;</div><div class="line">      tempInfos.forEach(<span class="function"><span class="params">item</span> =&gt;</span> &#123;</div><div class="line">        item.show = <span class="literal">false</span>;</div><div class="line">        <span class="keyword">this</span>.postInfos.push(item);</div><div class="line">      &#125;);</div><div class="line">    &#125;);</div><div class="line">  &#125;</div><div class="line">&#125;;</div><div class="line">&lt;<span class="regexp">/script&gt;</span></div></pre></td></tr></table></figure></p>
<h5 id="設定Route"><a href="#設定Route" class="headerlink" title="設定Route"></a>設定Route</h5><p>我們找到<code>router\index.js</code>，擴充<code>routes</code>陣列<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 先import Component</span></div><div class="line"><span class="keyword">import</span> AxiosDemo <span class="keyword">from</span> <span class="string">'@/components/AxiosDemo'</span></div><div class="line"></div><div class="line"><span class="comment">// 擴充routes陣列</span></div><div class="line">&#123;</div><div class="line">    path: <span class="string">'axios'</span>,</div><div class="line">    name: <span class="string">'AxiosDemo'</span>,</div><div class="line">    component: AxiosDemo</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>使用<code>npm run dev</code>執行網站，效果如下<br><img src="/Blog/2018/06/25/Vue套件介紹：axios/Axios_Demo.gif" alt="[Axios_Demo]" title="[Axios_Demo]"></p>
<h4 id="套用axios攔截器及loading效果"><a href="#套用axios攔截器及loading效果" class="headerlink" title="套用axios攔截器及loading效果"></a>套用axios攔截器及loading效果</h4><p>上面有介紹到<code>interceptor攔截器</code>的功能，筆者就以上述範例繼續以擴充的方式完成</p>
<ol>
<li><p>安裝loading效果實現套件<code>vue-blockui</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm install vue-blockui --save</div></pre></td></tr></table></figure>
</li>
<li><p>接著在<code>main.js</code>中引入</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 將套件import進來</span></div><div class="line"><span class="keyword">import</span> BlockUI <span class="keyword">from</span> <span class="string">'vue-blockui'</span></div><div class="line"><span class="comment">// 套用於vue中</span></div><div class="line">Vue.use(BlockUI)</div></pre></td></tr></table></figure>
</li>
<li><p><code>AxiosDemo.vue</code>頁面中加入<code>vue-blockui</code>ui區塊</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="comment">&lt;!-- 使用data變數spinnerStatus來控制顯示與否 --&gt;</span></div><div class="line"><span class="comment">&lt;!-- 使用data變數msg來動態設定顯示字串 --&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">BlockUI</span> <span class="attr">:message</span>=<span class="string">"msg"</span></span></div><div class="line"><span class="tag">        <span class="attr">v-show</span>=<span class="string">"spinnerStatus"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"fa fa-cog fa-spin fa-3x fa-fw"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">BlockUI</span>&gt;</span></div></pre></td></tr></table></figure>
</li>
<li><p>上步驟宣告中有使用到<code>data</code>變數</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">data() &#123;</div><div class="line">    <span class="keyword">return</span> &#123;</div><div class="line">        postInfos: [],</div><div class="line">        msg: <span class="string">"Loading..."</span>,</div><div class="line">        spinnerStatus: <span class="literal">false</span></div><div class="line">    &#125;;</div><div class="line">&#125;,</div></pre></td></tr></table></figure>
</li>
<li><p>在<code>created</code>事件中加入相關程式碼</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> $vue = <span class="keyword">this</span>;</div><div class="line">axios.interceptors.request.use(</div><div class="line">    <span class="function"><span class="keyword">function</span>(<span class="params">config</span>) </span>&#123;</div><div class="line">        $vue.spinnerStatus = <span class="literal">true</span>;</div><div class="line">        <span class="keyword">return</span> config;</div><div class="line">    &#125;,</div><div class="line">    <span class="function"><span class="keyword">function</span>(<span class="params">error</span>) </span>&#123;</div><div class="line">        $vue.spinnerStatus = <span class="literal">false</span>;</div><div class="line">        <span class="keyword">return</span> <span class="built_in">Promise</span>.reject(error);</div><div class="line">    &#125;</div><div class="line">);</div><div class="line"><span class="comment">// 使用setTimeout是為了demo效果，不然資料撈太快，會沒看到loading效果</span></div><div class="line"><span class="comment">// 因此故意延遲3秒後才隱藏loading視窗</span></div><div class="line">axios.interceptors.response.use(</div><div class="line">    <span class="function"><span class="keyword">function</span>(<span class="params">response</span>) </span>&#123;</div><div class="line">        setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">            $vue.spinnerStatus = <span class="literal">false</span>;</div><div class="line">        &#125;, <span class="number">3000</span>);</div><div class="line">        <span class="keyword">return</span> response;</div><div class="line">    &#125;,</div><div class="line">    <span class="function"><span class="keyword">function</span>(<span class="params">error</span>) </span>&#123;</div><div class="line">        $vue.spinnerStatus = <span class="literal">false</span>;</div><div class="line">        <span class="keyword">return</span> <span class="built_in">Promise</span>.reject(error);</div><div class="line">    &#125;</div><div class="line">);</div></pre></td></tr></table></figure>
</li>
<li><p>完整的程式碼(加入<code>axios.get</code>及<code>axios.interceptors</code>)</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div></pre></td><td class="code"><pre><div class="line">&lt;template&gt;</div><div class="line">  &lt;div id=<span class="string">"axiosdemo"</span>&gt;</div><div class="line">    &lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"card"</span></div><div class="line">         v-<span class="keyword">for</span>=<span class="string">"post in postInfos"</span></div><div class="line">         :key=<span class="string">"post.id"</span>&gt;</div><div class="line">      &lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"card-header"</span></div><div class="line">           @click=<span class="string">"post.show = !post.show"</span>&gt;</div><div class="line">        &lt;i <span class="class"><span class="keyword">class</span></span>=<span class="string">"fa fa-plus-square-o"</span></div><div class="line">           v-show=<span class="string">"!post.show"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span></div><div class="line">        &lt;i <span class="class"><span class="keyword">class</span></span>=<span class="string">"fa fa-minus-square-o"</span></div><div class="line">           v-show=<span class="string">"post.show"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span> &#123;&#123;post.title&#125;&#125;</div><div class="line">      &lt;<span class="regexp">/div&gt;</span></div><div class="line"><span class="regexp">      &lt;div class="card-body"</span></div><div class="line"><span class="regexp">           v-show="post.show"&gt;</span></div><div class="line"><span class="regexp">        &lt;p class="card-text"&gt;</span></div><div class="line"><span class="regexp">          &#123;&#123;post.body&#125;&#125;</span></div><div class="line"><span class="regexp">        &lt;/</span>p&gt;</div><div class="line">      &lt;<span class="regexp">/div&gt;</span></div><div class="line"><span class="regexp">    &lt;/</span>div&gt;</div><div class="line">    &lt;!-- blockui --&gt;</div><div class="line">    &lt;BlockUI :message=<span class="string">"msg"</span></div><div class="line">             v-show=<span class="string">"spinnerStatus"</span>&gt;</div><div class="line">      &lt;i <span class="class"><span class="keyword">class</span></span>=<span class="string">"fa fa-cog fa-spin fa-3x fa-fw"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span></div><div class="line">    &lt;<span class="regexp">/BlockUI&gt;</span></div><div class="line"><span class="regexp">  &lt;/</span>div&gt;</div><div class="line">&lt;<span class="regexp">/template&gt;</span></div><div class="line"><span class="regexp">&lt;script&gt;</span></div><div class="line"><span class="regexp">import axios from "axios";</span></div><div class="line"><span class="regexp">export default &#123;</span></div><div class="line"><span class="regexp">  name: "AxiosDemo",</span></div><div class="line"><span class="regexp">  data() &#123;</span></div><div class="line"><span class="regexp">    return &#123;</span></div><div class="line"><span class="regexp">      postInfos: [],</span></div><div class="line"><span class="regexp">      msg: "Loading...",</span></div><div class="line"><span class="regexp">      spinnerStatus: false</span></div><div class="line"><span class="regexp">    &#125;;</span></div><div class="line"><span class="regexp">  &#125;,</span></div><div class="line"><span class="regexp">  created: function() &#123;</span></div><div class="line"><span class="regexp">    let $vue = this;</span></div><div class="line"><span class="regexp">    axios.interceptors.request.use(</span></div><div class="line"><span class="regexp">      function(config) &#123;</span></div><div class="line"><span class="regexp">        $vue.spinnerStatus = true;</span></div><div class="line"><span class="regexp">        return config;</span></div><div class="line"><span class="regexp">      &#125;,</span></div><div class="line"><span class="regexp">      function(error) &#123;</span></div><div class="line"><span class="regexp">        $vue.spinnerStatus = false;</span></div><div class="line"><span class="regexp">        return Promise.reject(error);</span></div><div class="line"><span class="regexp">      &#125;</span></div><div class="line"><span class="regexp">    );</span></div><div class="line"><span class="regexp"></span></div><div class="line"><span class="regexp">    /</span><span class="regexp">/ Add a response interceptor</span></div><div class="line"><span class="regexp">    axios.interceptors.response.use(</span></div><div class="line"><span class="regexp">      function(response) &#123;</span></div><div class="line"><span class="regexp">        setTimeout(function() &#123;</span></div><div class="line"><span class="regexp">          $vue.spinnerStatus = false;</span></div><div class="line"><span class="regexp">        &#125;, 3000);</span></div><div class="line"><span class="regexp">        return response;</span></div><div class="line"><span class="regexp">      &#125;,</span></div><div class="line"><span class="regexp">      function(error) &#123;</span></div><div class="line"><span class="regexp">        $vue.spinnerStatus = false;</span></div><div class="line"><span class="regexp">        return Promise.reject(error);</span></div><div class="line"><span class="regexp">      &#125;</span></div><div class="line"><span class="regexp">    );</span></div><div class="line"><span class="regexp">    axios.get("/</span>posts<span class="string">").then(response =&gt; &#123;</span></div><div class="line"><span class="string">      let tempInfos = response.data;</span></div><div class="line"><span class="string">      tempInfos.forEach(item =&gt; &#123;</span></div><div class="line"><span class="string">        item.show = false;</span></div><div class="line"><span class="string">        this.postInfos.push(item);</span></div><div class="line"><span class="string">      &#125;);</span></div><div class="line"><span class="string">    &#125;);</span></div><div class="line"><span class="string">  &#125;</span></div><div class="line"><span class="string">&#125;;</span></div><div class="line"><span class="string">&lt;/script&gt;</span></div></pre></td></tr></table></figure>
</li>
</ol>
<p>最終完成效果如下<br><img src="/Blog/2018/06/25/Vue套件介紹：axios/Axios_Interceptor_Demo.gif" alt="[Axios_Interceptor_Demo]" title="[Axios_Interceptor_Demo]"></p>
<h2 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h2><hr>
<p>我們建構應用程式最基本的功能就是CRUD，<code>axios</code>套件是一定要投資的，筆者建議一定要花時間研究及練習，老話一句，一定要記得<code>axios</code>提供哪些功能，這樣需要用到時，很快就能查出相對應的解法，介紹就到這邊，我們下篇再見。</p>
<p>範例檔案參考<a href="https://github.com/EugeneSu0515/VueDemoApp" target="_blank" rel="external">https://github.com/EugeneSu0515/VueDemoApp</a></p>

            
        </div>
    </div>
    <div id="post-footer" class="post-footer main-content-wrap">
        
            <div class="post-footer-tags">
                <span class="text-color-light text-small">標籤</span><br/>
                
    <a class="tag tag--primary tag--small t-link" href="/Blog/tags/axios/">axios</a> <a class="tag tag--primary tag--small t-link" href="/Blog/tags/vue/">vue</a>

            </div>
        
        
            <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    <a class="post-action-btn btn btn--disabled">
                
                    <i class="fa fa-angle-left"></i>
                    <span class="hide-xs hide-sm text-small icon-ml">上一篇</span>
                </a>
            </li>
            <li class="post-action">
                
                    <a class="post-action-btn btn btn--default tooltip--top" href="/Blog/2018/06/25/Vue系列文章五：Vue-Instance與Component/" data-tooltip="Vue系列文章五：Vue Instance與Component">
                
                    <span class="hide-xs hide-sm text-small icon-mr">下一篇</span>
                    <i class="fa fa-angle-right"></i>
                </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action hide-lg hide-md hide-sm">
            <a class="post-action-btn btn btn--default btn-open-shareoptions"  href="#btn-open-shareoptions">
                <i class="fa fa-share-alt"></i>
            </a>
        </li>
        
            
            
            <li class="post-action hide-xs">
                <a class="post-action-btn btn btn--default" target="new" href="https://www.facebook.com/sharer/sharer.php?u=http://eugenesu0515.github.io/2018/06/25/Vue套件介紹：axios/">
                    <i class="fa fa-facebook-official"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?text=http://eugenesu0515.github.io/2018/06/25/Vue套件介紹：axios/">
                    <i class="fa fa-twitter"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a class="post-action-btn btn btn--default" target="new" href="https://plus.google.com/share?url=http://eugenesu0515.github.io/2018/06/25/Vue套件介紹：axios/">
                    <i class="fa fa-google-plus"></i>
                </a>
            </li>
        
        
            <li class="post-action">
                <a class="post-action-btn btn btn--default" href="#disqus_thread">
                    <i class="fa fa-comment-o"></i>
                </a>
            </li>
        
        <li class="post-action">
            
                <a class="post-action-btn btn btn--default" href="#table-of-contents">
            
                <i class="fa fa-list"></i>
            </a>
        </li>
    </ul>
</div>


        
        
            
                <div id="disqus_thread">
    <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
            
        
    </div>
</article>



                <footer id="footer" class="main-content-wrap">
    <span class="copyrights">
        Copyrights &copy; 2018 Eugene Su. All Rights Reserved.
    </span>
</footer>

            </div>
            
                <div id="bottom-bar" class="post-bottom-bar" data-behavior="5">
                    <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    <a class="post-action-btn btn btn--disabled">
                
                    <i class="fa fa-angle-left"></i>
                    <span class="hide-xs hide-sm text-small icon-ml">上一篇</span>
                </a>
            </li>
            <li class="post-action">
                
                    <a class="post-action-btn btn btn--default tooltip--top" href="/Blog/2018/06/25/Vue系列文章五：Vue-Instance與Component/" data-tooltip="Vue系列文章五：Vue Instance與Component">
                
                    <span class="hide-xs hide-sm text-small icon-mr">下一篇</span>
                    <i class="fa fa-angle-right"></i>
                </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action hide-lg hide-md hide-sm">
            <a class="post-action-btn btn btn--default btn-open-shareoptions"  href="#btn-open-shareoptions">
                <i class="fa fa-share-alt"></i>
            </a>
        </li>
        
            
            
            <li class="post-action hide-xs">
                <a class="post-action-btn btn btn--default" target="new" href="https://www.facebook.com/sharer/sharer.php?u=http://eugenesu0515.github.io/2018/06/25/Vue套件介紹：axios/">
                    <i class="fa fa-facebook-official"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?text=http://eugenesu0515.github.io/2018/06/25/Vue套件介紹：axios/">
                    <i class="fa fa-twitter"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a class="post-action-btn btn btn--default" target="new" href="https://plus.google.com/share?url=http://eugenesu0515.github.io/2018/06/25/Vue套件介紹：axios/">
                    <i class="fa fa-google-plus"></i>
                </a>
            </li>
        
        
            <li class="post-action">
                <a class="post-action-btn btn btn--default" href="#disqus_thread">
                    <i class="fa fa-comment-o"></i>
                </a>
            </li>
        
        <li class="post-action">
            
                <a class="post-action-btn btn btn--default" href="#table-of-contents">
            
                <i class="fa fa-list"></i>
            </a>
        </li>
    </ul>
</div>


                </div>
                <div id="share-options-bar" class="share-options-bar" data-behavior="5">
    <i id="btn-close-shareoptions" class="fa fa-close"></i>
    <ul class="share-options">
        
            
            
            <li class="share-option">
                <a class="share-option-btn" target="new" href="https://www.facebook.com/sharer/sharer.php?u=http://eugenesu0515.github.io/2018/06/25/Vue套件介紹：axios/">
                    <i class="fa fa-facebook-official"></i><span>分享到 Facebook</span>
                </a>
            </li>
        
            
            
            <li class="share-option">
                <a class="share-option-btn" target="new" href="https://twitter.com/intent/tweet?text=http://eugenesu0515.github.io/2018/06/25/Vue套件介紹：axios/">
                    <i class="fa fa-twitter"></i><span>分享到 Twitter</span>
                </a>
            </li>
        
            
            
            <li class="share-option">
                <a class="share-option-btn" target="new" href="https://plus.google.com/share?url=http://eugenesu0515.github.io/2018/06/25/Vue套件介紹：axios/">
                    <i class="fa fa-google-plus"></i><span>分享到 Google+</span>
                </a>
            </li>
        
    </ul>
</div>

            
        </div>
        


    
        
    

<div id="about">
    <div id="about-card">
        <div id="about-btn-close">
            <i class="fa fa-remove"></i>
        </div>
        
            <img id="about-card-picture" src="http://www.gravatar.com/avatar/e6ca445a85d16acdce3d64b521812cb8?s=140" alt="作者的圖片"/>
        
            <h4 id="about-card-name">Eugene Su</h4>
        
            <div id="about-card-bio"><p>這裡記載技術與生活點滴</p>
</div>
        
        
            <div id="about-card-job">
                <i class="fa fa-briefcase"></i>
                <br/>
                <p>軟體工程師</p>

            </div>
        
        
            <div id="about-card-location">
                <i class="fa fa-map-marker"></i>
                <br/>
                Taipei
            </div>
        
    </div>
</div>

        <div id="algolia-search-modal" class="modal-container">
    <div class="modal">
        <div class="modal-header">
            <span class="close-button"><i class="fa fa-close"></i></span>
            <a href="https://algolia.com" target="_blank" rel="noopener" class="searchby-algolia text-color-light link-unstyled">
                <span class="searchby-algolia-text text-color-light text-small">by</span>
                <img class="searchby-algolia-logo" src="https://www.algolia.com/static_assets/images/press/downloads/algolia-light.svg">
            </a>
            <i class="search-icon fa fa-search"></i>
            <form id="algolia-search-form">
                <input type="text" id="algolia-search-input" name="search"
                    class="form-control input--large search-input" placeholder="Search "
                    />
            </form>
        </div>
        <div class="modal-body">
            <div class="no-result text-color-light text-center">沒有找到文章</div>
            <div class="results">
                
                <div class="media">
                    
                    <div class="media-body">
                        <a class="link-unstyled" href="http://eugenesu0515.github.io/2017/09/11/dotnet-core系列文章一：安裝/">
                            <h3 class="media-heading">dotnet-core系列文章一：安裝</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    2017年9月11日
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"><h2 id="前提情要"><a href="#前提情要" class="headerlink" title="前提情要"></a>前提情要</h2><hr>
<p>目前微軟於「2017/08/14」正式發佈dotnet core2.0.0後，實作API數比版本1足足多了兩倍之多，是該進場的時候了。</p>
<p>身為ASP.NET開發者，以往都會限制於IIS Web Server才能架站，dotnet core本身跨平台的特性，且宿主不限制於IIS Web Server，加上僅開啟Visual Studio Code就可開發C#相關程式(設備配備不好的情況下超適用)，上述種種因素，是該投資時間研究dotnet core的時候了。</p></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-body">
                        <a class="link-unstyled" href="http://eugenesu0515.github.io/2017/09/12/dotnet-core系列文章二：VSCode教學/">
                            <h3 class="media-heading">dotnet-core系列文章二：VSCode教學</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    2017年9月12日
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"><h2 id="前提情要"><a href="#前提情要" class="headerlink" title="前提情要"></a>前提情要</h2><hr>
<p>上一篇講到開發dotnet core相關程式，論語說「工欲善其事，必先利其器」，相當然爾，熟悉開發工具這件事情直接影響你的開發產能。因筆者現況，公司配的桌機跟自己的筆電配備上有落差，以不耗系統資源的考量下，下定決心將「Visual Studio Code」作為首選開發工具。</p></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-body">
                        <a class="link-unstyled" href="http://eugenesu0515.github.io/2017/09/16/VSCode技巧：解決RazorView中Emmet失效問題/">
                            <h3 class="media-heading">VSCode技巧：解決RazorView中Emmet失效問題</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    2017年9月16日
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"><h2 id="前提情要"><a href="#前提情要" class="headerlink" title="前提情要"></a>前提情要</h2><hr>
<p>身為Web及.net MVC開發者來說，多多少少會有機會寫到Razor View。筆者因工作上曾擔任過SA一陣子，工作內容包含劃Prototype頁面與客戶溝通作業流程及操作方式，當時案子套版基底是使用<a href="https://getbootstrap.com/docs/3.3/" target="_blank" rel="external">Bootstrap3</a>，知道需要長時間使用Bootstrap，因此筆者有下功夫熟悉它的css class。且那時有幸已知道<strong>ZenCoding</strong>(Emmet)這玩意，詳細可參考 <a href="http://blog.kkbruce.net/2012/11/zen-coding-extremely-speed-write-your-html5-css3-code.html#.Wb0uksgjGUk" target="_blank" rel="external">ZEN-CODING - 教你極速撰寫HTML5與CSS3程式碼</a>(筆者當年就被這篇文章燒到)。</p></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-body">
                        <a class="link-unstyled" href="http://eugenesu0515.github.io/2018/04/21/VSCode技巧：vue開發套件vetur相關設定/">
                            <h3 class="media-heading">VSCode技巧：vue開發套件vetur相關設定</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    2018年4月21日
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"><h2 id="前提情要"><a href="#前提情要" class="headerlink" title="前提情要"></a>前提情要</h2><hr>
<p>目前專案選擇<a href="https://vuejs.org/" target="_blank" rel="external">vue.js</a>作為前端開發使用Framework，開發工具選擇VsCode的狀況下，筆者搜尋一下相關plugins，發現<a href="https://github.com/vuejs/vetur" target="_blank" rel="external">vetur</a>下載率很高，含基本的</p>
<ul>
<li><code>syntax highlighting</code> </li>
<li><code>Snippet</code> </li>
<li><code>Auto Completion</code></li>
</ul>
<p>對筆者來說已足夠，趕緊下載來試用。稍微觀看一下該套件格式化相關設定，對於vue webpack template開發來說，需要再手動設定。</p></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-body">
                        <a class="link-unstyled" href="http://eugenesu0515.github.io/2018/04/23/VSCode技巧：檔案比對差異/">
                            <h3 class="media-heading">VSCode技巧：檔案比對差異</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    2018年4月23日
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"><h2 id="前提情要"><a href="#前提情要" class="headerlink" title="前提情要"></a>前提情要</h2><hr>
<p>多人開發的專案，最容易發生的衝突是設定檔案，如Vue專案中<code>router/index.js</code>，每個人的各自component需要import與設定其url，筆者公司採用<a href="https://subversion.apache.org/" target="_blank" rel="external">svn</a>作為版空工具，在各自處理衝突的情況下，該檔案真的是不堪入目。</p>
<p>時間一久，可能連routing功能都會被影響到，因檔案亂掉的關係，有些url失效或者設定階層不對，連Layout都長不出來，給客戶測試前，是必須整理一下了。</p>
<p>因有layout關係，必須將其他component所屬url必須放置於layout的children設定中，有些人沒有仔細看就直接將設定寫在layout同層，有些url還被設定到兩次，太氣了，讓筆者murmur一下。</p></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-body">
                        <a class="link-unstyled" href="http://eugenesu0515.github.io/2018/04/23/Vue系列文章一：Vue簡介/">
                            <h3 class="media-heading">Vue系列文章一：Vue簡介</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    2018年4月23日
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"><h2 id="前提情要"><a href="#前提情要" class="headerlink" title="前提情要"></a>前提情要</h2><hr>
<p>目前公司開發產品選擇<a href="https://vuefe.cn/v2/guide/" target="_blank" rel="external">vue.js</a>作為前端開發框架，選擇原因不外呼是</p>
<ul>
<li>容易上手</li>
<li>考量到產品之後會由大陸團隊接手</li>
<li>Virtual Dom設計，效能方面不需要擔心</li>
</ul></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-body">
                        <a class="link-unstyled" href="http://eugenesu0515.github.io/2018/04/25/Vue系列文章二：VueWepackTemplate檔案結構介紹/">
                            <h3 class="media-heading">Vue系列文章二：VueWepackTemplate檔案結構介紹</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    2018年4月25日
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"><h2 id="前提情要"><a href="#前提情要" class="headerlink" title="前提情要"></a>前提情要</h2><hr>
<p>上一篇介紹到<code>vue-cli</code>建立vue application，其中筆者示範選擇以<code>webpack template</code>作為預設專案結構。這一篇就來簡單介紹一下專案中的檔案結構以及經驗分享。</p></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-body">
                        <a class="link-unstyled" href="http://eugenesu0515.github.io/2018/05/24/Vue系列文章三：Vue基本語法/">
                            <h3 class="media-heading">Vue系列文章三：Vue基本語法</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    2018年5月24日
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"><h2 id="前提情要"><a href="#前提情要" class="headerlink" title="前提情要"></a>前提情要</h2><hr>
<p>前兩篇的基本設置教學，筆者相信大家已學會基本設定並撰寫vue application，此篇介紹基本語法及應用並說明。</p>
<p>此篇雖然想以<a href="https://vuejs.org/v2/guide/" target="_blank" rel="external">Vue官網教學</a>順序做介紹，但筆者認為已學會某種技術，應該是要以自己角度分類並介紹，且要加上經驗分享，還可藉由驗證自己的不足，因此若不習慣內容編排方式，多加見諒。</p>
<p>簡單介紹一下筆者接下來會使用的環境如下：</p>
<ul>
<li>編輯器：<a href="https://code.visualstudio.com/" target="_blank" rel="external">VisualStudioCode</a></li>
<li>Vue版本：2.4.2 &uarr;</li>
<li>Chrome Extension: <a href="https://chrome.google.com/webstore/detail/vuejs-devtools/nhdogjmejiglipccpnnnanhbledajbpd" target="_blank" rel="external">Vue.js dev tools</a></li>
<li>VsCode Extension: <a href="https://marketplace.visualstudio.com/items?itemName=octref.vetur" target="_blank" rel="external">vetur</a></li>
<li>Vue App結構採用<code>webpack full</code>Template專案</li>
</ul></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-body">
                        <a class="link-unstyled" href="http://eugenesu0515.github.io/2018/06/22/Vue系列文章四：Vue Directive/">
                            <h3 class="media-heading">Vue系列文章四：Vue Directive</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    2018年6月22日
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"><h2 id="前提情要"><a href="#前提情要" class="headerlink" title="前提情要"></a>前提情要</h2><hr>
<p>前一篇已介紹了Vue基本語法，筆者相信應該是有辦法撰寫簡單的邏輯，接下來這一篇介紹<code>v開頭directive</code>相關技巧及知識，筆者使用工具及環境參考上一篇「Vue基本語法」。<br></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-body">
                        <a class="link-unstyled" href="http://eugenesu0515.github.io/2018/06/25/Vue系列文章五：Vue-Instance與Component/">
                            <h3 class="media-heading">Vue系列文章五：Vue Instance與Component</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    2018年6月25日
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"><h2 id="前提情要"><a href="#前提情要" class="headerlink" title="前提情要"></a>前提情要</h2><hr>
<p>前面兩篇講了vue相關的語法，是不是覺得少了點什麼，這篇是重頭戲，介紹Vue Instance宣告時有哪些options可設定，有什麼樣的相關技巧以及Component的應用，筆者就以自身開發角度分享實戰經驗。<br></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
            </div>
        </div>
        <div class="modal-footer">
            <p class="results-count text-medium"
                data-message-zero="沒有找到文章"
                data-message-one="找到 1 篇文章"
                data-message-other="找到 {n} 篇文章">
                找到 11 篇文章
            </p>
        </div>
    </div>
</div>

        
<div id="cover" style="background-image:url('/Blog/assets/images/cover.jpg');"></div>
        <!--SCRIPTS-->
<script src="/Blog/assets/js/script-ivwiy10zeb8fifc4swnhkwneuk64y53w2scmdmtp8thi9cqfxh31aowtroaz.min.js"></script>
<!--SCRIPTS END-->

    
        <script>
             var disqus_config = function () {
                 this.page.url = 'http://eugenesu0515.github.io/2018/06/25/Vue套件介紹：axios/';
                 
                    this.page.identifier = '2018/06/25/Vue套件介紹：axios/';
                 
             };
            (function() {
                var d = document, s = d.createElement('script');
                var disqus_shortname = 'EugeneSu';
                s.src = '//' + disqus_shortname + '.disqus.com/embed.js';

                s.setAttribute('data-timestamp', +new Date());
                (d.head || d.body).appendChild(s);
            })();
        </script>
    


    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.14.1/moment-with-locales.min.js"></script>
    <script src="//cdn.jsdelivr.net/algoliasearch/3/algoliasearch.min.js"></script>
    <script>
        var algoliaClient = algoliasearch('N3Q7RDUX9T', 'c53935fd49e62e1b8fa0233625fefb51');
        var algoliaIndex = algoliaClient.initIndex('eugene_su_hexo_blog');
    </script>

    </body>
</html>
